{% extends "base.html" %}
{% load staticfiles %}
{% block scripts %}
    <script src="{% static 'js/adapterfiltres.js' %}"></script>
    <script src="{% static 'js/afficherapercu.js' %}"></script>
    <script src="{% static 'js/compresser.js' %}"></script>
    <script src="{% static 'js/uploadsLoader.js' %}"></script>
{% endblock %}
{% block header %}Upload{% endblock %}
{% block content %}
<!-- titre du paragraphe -->
<h3 class="ui-bar ui-bar-a ui-corner-all">Veuillez remplir les champs suivants:</h3>
    <div class="ui-body ui-body-a ui-corner-all">
    <!-- contenu du paragraphe -->
        <div>
            <!-- quand l'image a été uploadée cette ligne s'afficher --> 
            {% if sauvegarde %}
                <p>Cette image a bient été uploadée.</p>
            {% endif %}
            <!-- formulaire pour upload de l'image, data-ajax="false" permet d'éviter des chargements propres a jQM qui empêchent le bon fonctionnement des formulaires  --> 
            <form method="post" enctype="multipart/form-data" action="." data-ajax="false">
                {% csrf_token %}
                {{ form.as_p }}
                <div id ="image"> 
                    <img id="output" class="imageCentree ui-corner-all" style="-webkit-filter: contrast(2); -webkit-filter: brightness(1.5); -webkit-filter: saturate(0);"/>
                </div>
                <button type="submit" class="ui-btn btn-bottom buttonLoad ui-corner-all" data-textonly="false" data-textvisible="true" data-msgtext="L'image est en chargement" data-inline="true">Uploader !</button>
            </form>
            <button class="ui-corner-all" id="btnCompression">Compresser</button>
        </div>
        <div data-role="popup" id="popupNoImage" class="ui-corner-all ui-content">
            <h3 class="center">!!! Attention !!!</h3>
            <p>Aucune image n'a été selectionnée</p>
        </div>
    </div>
{% endblock %}
